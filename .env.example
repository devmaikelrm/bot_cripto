# Bot Cripto environment example
# Copy to .env and set real values.

# Exchange and market
EXCHANGE=binance
DATA_PROVIDER=binance
SYMBOLS=BTC/USDT
TIMEFRAME=5m
FETCH_LOG_EVERY_BATCHES=1
FETCH_CHECKPOINT_EVERY_BATCHES=25
STREAM_SNAPSHOT_INTERVAL_SECONDS=5
STREAM_ORDERBOOK_DEPTH=20
STREAM_RETENTION_DAYS=7

# Forecast horizon
PRED_HORIZON_STEPS=5
ENCODER_LENGTH=60
TFT_ENCODER_LENGTH=288

# Storage
DATA_DIR_RAW=./data/raw
DATA_DIR_PROCESSED=./data/processed
MODELS_DIR=./models
LOGS_DIR=./logs
WATCHTOWER_DB_PATH=./logs/watchtower.db

# Notifications
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_ENABLE_COMMANDS=false
# Comma-separated chat ids allowed to control the bot. For groups this is typically a negative number.
TELEGRAM_ALLOWED_CHAT_IDS=
TELEGRAM_POLL_SECONDS=2

# Runtime mode
PAPER_MODE=true
LIVE_MODE=false
LIVE_CONFIRM_TOKEN=
LIVE_MAX_DAILY_LOSS=0.03
ENABLE_PROBABILITY_CALIBRATION=true
PROBABILITY_CALIBRATION_METHOD=isotonic
TFT_CALIBRATION_MAX_SAMPLES=32
TFT_CALIBRATION_HOLDOUT_RATIO=0.2
HARD_STOP_MAX_LOSS=0.03
LIVE_STATE_REFRESH_SECONDS=5
TFT_LR_REDUCE_ON_PLATEAU=true
TFT_LR_PATIENCE=3
TFT_LR_REDUCTION=2.0
TFT_TARGET_MODE=log_return

# Decision thresholds
RISK_MAX=0.30
PROB_MIN=0.60
MIN_EXPECTED_RETURN=0.002
LABEL_EDGE_RETURN=0.0005

# Cost model
FEES_BPS=10
SPREAD_BPS=2
SLIPPAGE_BPS=8

# Regime filters
REGIME_ADX_TREND_MIN=20.0
REGIME_ATR_HIGH_VOL_PCT=0.02
MACRO_EVENT_CRISIS_ENABLED=true
MACRO_EVENT_CRISIS_WINDOWS_UTC=13:20-14:10
MACRO_EVENT_CRISIS_WEEKDAYS=0,1,2,3,4
MACRO_BLOCK_THRESHOLD=0.70
ORDERBOOK_SELL_WALL_THRESHOLD=-0.20
SOCIAL_SENTIMENT_BULL_MIN=0.60
SOCIAL_SENTIMENT_BEAR_MAX=0.40
CONTEXT_PROB_ADJUST_MAX=0.05
SOCIAL_SENTIMENT_SOURCE=auto
SOCIAL_SENTIMENT_ENDPOINT=
CRYPTOPANIC_API_KEY=
GNEWS_API_KEY=
GNEWS_MAX_RESULTS=25
REDDIT_USER_AGENT=bot-cripto/0.1
REDDIT_MAX_RESULTS=25
COINGECKO_API_KEY=
COINPAPRIKA_API_KEY=
SOCIAL_SENTIMENT_NLP_ENABLED=true
SOCIAL_SENTIMENT_NLP_MODEL_ID=ProsusAI/finbert
SOCIAL_SENTIMENT_NLP_MAX_TEXTS=120
SOCIAL_SENTIMENT_NEWS_RSS_ENABLED=true
SOCIAL_SENTIMENT_NEWS_RSS_URLS=https://www.coindesk.com/arc/outboundfeeds/rss/,https://cointelegraph.com/rss
SOCIAL_SENTIMENT_NEWS_RSS_MAX_ITEMS=80
SOCIAL_SENTIMENT_WEIGHT_X=0.5
SOCIAL_SENTIMENT_WEIGHT_NEWS=0.3
SOCIAL_SENTIMENT_WEIGHT_TELEGRAM=0.2
SOCIAL_SENTIMENT_EMA_ALPHA=0.35
SOCIAL_SENTIMENT_RELIABILITY_ENABLED=true
SOCIAL_SENTIMENT_RELIABILITY_MIN_WEIGHT=0.10
SOCIAL_SENTIMENT_RELIABILITY_WINDOW=96
SOCIAL_SENTIMENT_ANOMALY_WINDOW=96
SOCIAL_SENTIMENT_ANOMALY_Z_CLIP=4.0
X_BEARER_TOKEN=
X_QUERY_TEMPLATE=({coin} OR ${coin} OR #{coin}) lang:en -is:retweet
X_MAX_RESULTS=50
TELEGRAM_SENTIMENT_CHAT_IDS=
TELEGRAM_SENTIMENT_LOOKBACK_LIMIT=100
META_MODEL_ENABLED=true
META_MODEL_MIN_PROB_SUCCESS=0.55
META_MODEL_HOLDOUT_RATIO=0.25
META_MODEL_THRESHOLD_MIN=0.50
META_MODEL_THRESHOLD_MAX=0.80
META_MODEL_THRESHOLD_STEP=0.01
META_MODEL_MIN_POSITIVE_PREDICTIONS=5

# Risk engine
INITIAL_EQUITY=10000
RISK_PER_TRADE=0.01
MAX_DAILY_DRAWDOWN=0.03
MAX_WEEKLY_DRAWDOWN=0.07
MAX_POSITION_SIZE=1.0
RISK_COOLDOWN_MINUTES=15
RISK_ENABLE_KELLY=true
RISK_KELLY_FRACTION=0.2
RISK_KELLY_DYNAMIC_ENABLED=true
RISK_KELLY_FRACTION_MIN=0.1
RISK_KELLY_FRACTION_MAX=0.4
RISK_KELLY_VAL_LOSS_GOOD=0.003
RISK_KELLY_VAL_LOSS_BAD=0.03
RISK_CVAR_ENABLED=true
RISK_CVAR_ALPHA=0.05
RISK_CVAR_MIN_SAMPLES=60
RISK_CVAR_LIMIT=-0.03
RISK_CIRCUIT_BREAKER_MINUTES=60
CC_EVAL_WINDOW=500
CC_PROMOTION_MARGIN=0.05
CC_MIN_TRADES=20
RISK_SCORE_BLOCK_THRESHOLD=0.9
RISK_LONG_ONLY=true
RISK_BEAR_TREND_MULTIPLIER=0.0
RISK_HIGH_SCORE_SIZE_FACTOR=0.2
RISK_POSITION_SIZE_MULTIPLIER=10.0
MODEL_RISK_VOL_REF=0.02
MODEL_RISK_SPREAD_REF=0.05
STOP_LOSS_BUFFER=0.0
TAKE_PROFIT_BUFFER=0.0
FILL_GAPS_FFILL_LIMIT=3
TFT_BATCH_SIZE=256
TFT_NUM_WORKERS=4
TFT_PRECISION=16-mixed
TFT_ACCELERATOR=auto

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
DASHBOARD_REFRESH_SECONDS=10
DASHBOARD_TARGET_START=2017-01-01
